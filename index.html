<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <title>Katherine &amp; Adriaan's Hitching Post</title>

  <link rel="stylesheet" type="text/css" href="fullPage.js/jquery.fullPage.css" />
	<link rel="stylesheet" type="text/css" href="style.css" />

  	<!--[if IE]>
  		<script type="text/javascript">
  			 var console = { log: function() {} };
  		</script>
  	<![endif]-->

  	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  	<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>	

  	<script type="text/javascript" src="fullPage.js/vendors/jquery.slimscroll.min.js"></script>

  	<script type="text/javascript" src="fullPage.js/jquery.fullPage.js"></script>

  	<script type="text/javascript">

  		$(document).ready(function() {
  			$.fn.fullpage({
  				menu: '#menu',
  				anchors: ['intro', 'when', 'schedule', 'rsvp', 'where', 'share', 'gifts', 'stay'],
  				slidesColor: ['hsl(50, 82%, 78%)', 'hsl(50, 82%, 78%)', '#1BBC9B', '#7E8F7C', 'hsl(50, 82%, 78%)', 'hsl(50, 82%, 78%)', 'hsl(50, 82%, 78%)', 'hsl(50, 82%, 78%)'],
          // navigation: true,
          // 'navigationPosition': 'right',
          // 'navigationColor': '#000',
          // 'navigationTooltips': [],
          slidesNavigation: true,
          autoScrolling: false,
          enabled: false
  			});
  		});

      function interpolate(pct, from, moving, to) {
        var topInter  = from.top  + (to.top-from.top)*pct
        var leftInter = from.left + (to.left-from.left)*pct

        moving.zIndex(100) // TODO: can this be done once in CSS??
        moving.offset({ top: topInter, left: leftInter }) // actual movement...
      }

      // TODO: how to optimize/make smoother?
      function aniDate() {
        var top = window.pageYOffset

        // scale a bit so we arrive before we hit the third slide
        // TODO: speed up first bit, kinda like an S-curve
        var pct = (top / $(window).height()) / .85

        var dateFrom = $(".dateFrom")
        var dateMoving = $(".dateMoving")
        var dateTo = $(".dateTo")

        if (pct <= 0) {
          dateFrom.css(  'visibility', 'visible')
        } else if (pct < 1) {
          dateFrom.css(  'visibility', 'hidden')
          dateMoving.css('visibility', 'visible')
          dateTo.css(    'visibility', 'hidden')
        } else if (pct >= 1) {
          dateMoving.css('visibility', 'hidden')
          dateTo.css(    'visibility', 'visible')
        }

        interpolate(pct, $(".dateFrom #two").offset() , $(".dateMoving #two") , $(".dateTo #two" ).offset())
        interpolate(pct, $(".dateFrom #zero").offset(), $(".dateMoving #zero"), $(".dateTo #zero").offset())
        interpolate(pct, $(".dateFrom #one").offset() , $(".dateMoving #one") , $(".dateTo #one" ).offset())
        interpolate(pct, $(".dateFrom #four").offset(), $(".dateMoving #four"), $(".dateTo #four").offset())
        interpolate(pct, $(".dateFrom #two").offset(),  $(".dateMoving #year"), $(".dateTo #year").offset())
      }

      // based on https://gist.github.com/Warry/4254579
      // Detect request animation frame
      var scroll = window.requestAnimationFrame ||
                   window.webkitRequestAnimationFrame ||
                   window.mozRequestAnimationFrame ||
                   window.msRequestAnimationFrame ||
                   window.oRequestAnimationFrame ||
                   // IE Fallback, you can even fallback to onscroll
                   function(callback){ window.setTimeout(callback, 1000/60) }

      var lastPosition = -1
      var initialized = false

      function loop(){
        // Avoid calculations if not needed
        if (!initialized) {
          initialized = $(".dateFrom #two").offset() != undefined
        } else if (lastPosition == window.pageYOffset) {
          // dumdidum
        } else {
          lastPosition = window.pageYOffset

          aniDate()
        }

        scroll( loop )
      }
      loop();

    </script>
</head>

<body>


<ul id="menu">
	<li data-menuanchor="when"> <a href="#when">the date</a> </li>
	<li data-menuanchor="schedule"> <a href="#schedule">the day</a> </li>
	<li data-menuanchor="rsvp"> <a href="#rsvp">RSVP</a> </li>
	<li data-menuanchor="where"> <a href="#where">the place</a> </li>
	<li data-menuanchor="share"> <a href="#share">share</a> </li>
	<li data-menuanchor="gifts"> <a href="#gifts">gifts</a> </li>
	<li data-menuanchor="stay"> <a href="#stay">stay!</a> </li>
</ul>

<div class="section" class="active" id="section0">
	<span class="dateFrom">
    <span id="two">2</span><span id="zero">0</span><span id="one">1</span><span id="four">4</span>
  </span>
	<span class="dateMoving">
    <span id="two">2</span><span id="zero">0</span><span id="one">1</span><span id="four">4</span>
    <span id="year">2014</span>
  </span>
</div>

<div class="section">
  <span class="dateTo">
    <span id="zero">0</span><span id="four">4</span>/<span id="one">1</span><span id="two">2</span>/<span id="year">2014</div>
  </span>
</div>

<div class="section" >
  <h1>schedule</h1>
  April 12th, 2014
  4pm
</div>

<div class="section" >

  <h1>RSVP</h1>

  size of party
  kids
  hotel
  song request

  <a href="mailto:hi@k3n.be">questions? or just want to say hi?</a>
</div>

<div class="section" >
  <h1>location</h1>
  potrero neighborhood center

  <!- https://mapsengine.google.com/map/u/0/edit?mid=zpym0cAvjSSo.kkwcnpXSTtsw ->
  <iframe src="https://mapsengine.google.com/map/embed?mid=zZ0O1H1nj5vA.krAMja3c9q9M" 
  width="400" height="400"></iframe>

</div>

<div class="section" >
  <h1>share with us</h1>
  #k3n
</div>

<div class="section">
  <h1>gifts</h1>
  we love gifts, but we already have all the stuff we could possibly wish for
  we would appreciate a contribution to our travel fund,
  as we'll be living abroad and travelling for half of 2014.

  <!-- https://www.youtube.com/watch?v=4x_QkGPCL18 -->
</div>


<div class="section">
  <h1>stay awhile!</h1>

  <div class="slide">
  <h2>hotel info</h2>
  </div>
  
  <div class="slide">
  <h2>where to eat</h2>
  </div>

  <div class="slide" >
  <h2>where to drink</h2>
  </div>

  <div class="slide" >
  <h2>where to mosey around</h2>
  </div>
</div>


</body>
</html>


<!-- <div id="infoMenu">
  <ul>
    <li><a href="https://github.com/alvarotrigo/fullPage.js/archive/master.zip">Download</a></li>
    <li>
      <a href="#" id="showExamples">Examples</a>
      <div id="examplesList">
        <div class="column">
          <h3>Navigation</h3>
          <ul>
            <li><a href="navigationV.html">Vertical navigation dots</a></li>
            <li><a href="navigationH.html">Horizontal navigation dots</a></li>
            <li><a href="normalScroll.html">Normal scrolling</a></li>
            <li><a href="noAnchor.html">Without anchor links (same URL)</a></li>
          </ul>
        </div>
        <div class="column">
          <h3>Design</h3>
          <ul>
            <li><a href="backgrounds.html">Full backgrounds</a></li>
            <li><a href="gradientBackgrounds.html">Gradient backgrounds</a></li>
            <li><a href="scrolling.html">Scrolling inside sections and slides</a></li>
            <li><a href="fixedHeaders.html">Adding fixed header and footer</a></li>
          </ul>
        </div>
        <div class="column">
          <h3>Callbacks</h3>
          <ul>
            <li><a href="apple.html">Animations on scrolling</a></li>
          </ul>
        </div>
      </div>
  
    </li>
    <li><a href="https://github.com/alvarotrigo/fullPage.js#fullpagejs">Documentation</a></li>
    <li><a href="http://alvarotrigo.com/#contact-page">Contact</a></li>
  </ul>

</div> -->